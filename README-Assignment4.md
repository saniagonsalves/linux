#CMPE283 Assignment 4
1. I've completed this lab myself.
2. a. With EPT=1 \
   ``[  265.072223] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 0, count = 5471 `` \
   ``[  265.072228] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 1, count = 129521 `` \
   ``[  265.072231] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 2, count = 0 `` \
   ``[  265.072233] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 3, count = 0 `` \
   ``[  265.072235] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 4, count = 0 `` \
   ``[  265.072237] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 5, count = 0 `` \
   ``[  265.072239] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 6, count = 0 `` \
   ``[  265.072241] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 7, count = 23323 `` \
   ``[  265.072243] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 8, count = 0 `` \
   ``[  265.072245] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 9, count = 0 `` \
   ``[  265.072247] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 10, count = 33455 `` \
   ``[  265.072249] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 11, count = 0 `` \
   ``[  265.072251] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 12, count = 229074 `` \
   ``[  265.072253] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 13, count = 0 `` \
   ``[  265.072255] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 14, count = 0 `` \
   ``[  265.072257] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 15, count = 0 `` \
   ``[  265.072259] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 16, count = 0 `` \
   ``[  265.072261] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 17, count = 0 `` \
   ``[  265.072263] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 18, count = 5572 `` \
   ``[  265.072265] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 19, count = 0 `` \
   ``[  265.072267] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 20, count = 0 `` \
   ``[  265.072269] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 21, count = 0 `` \
   ``[  265.072271] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 22, count = 0 `` \
   ``[  265.072274] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 23, count = 0 `` \
   ``[  265.072276] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 24, count = 0 `` \
   ``[  265.072278] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 25, count = 0 `` \
   ``[  265.072280] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 26, count = 0 `` \
   ``[  265.072282] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 27, count = 0 `` \
   ``[  265.072284] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 28, count = 1266470 `` \
   ``[  265.072286] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 29, count = 12 `` \
   ``[  265.072288] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 30, count = 82228 `` \
   ``[  265.072290] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 31, count = 4173 `` \
   ``[  265.072292] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 32, count = 124256 `` \
   ``[  265.072294] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 33, count = 0 `` \
   ``[  265.072296] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 34, count = 0 `` \
   ``[  265.072298] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 35, count = 0 `` \
   ``[  265.072300] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 36, count = 0 `` \
   ``[  265.072302] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 37, count = 0 `` \
   ``[  265.072304] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 38, count = 0 `` \
   ``[  265.072306] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 39, count = 0 `` \
   ``[  265.072308] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 40, count = 9830 `` \
   ``[  265.072310] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 41, count = 0 `` \
   ``[  265.072312] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 42, count = 0 `` \
   ``[  265.072314] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 43, count = 0 `` \
   ``[  265.072316] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 44, count = 11 `` \
   ``[  265.072318] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 45, count = 0 `` \
   ``[  265.072320] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 46, count = 56 `` \
   ``[  265.072322] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 47, count = 22 `` \
   ``[  265.072325] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 48, count = 291635 `` \
   ``[  265.072327] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 49, count = 217002 `` \
   ``[  265.072329] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 50, count = 0 `` \
   ``[  265.072331] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 51, count = 0 `` \
   ``[  265.072333] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 52, count = 111985 `` \
   ``[  265.072335] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 53, count = 0 `` \
   ``[  265.072337] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 54, count = 13 `` \
   ``[  265.072339] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 55, count = 13 `` \
   ``[  265.072341] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 56, count = 0 `` \
   ``[  265.072343] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 57, count = 0 `` \
   ``[  265.072345] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 58, count = 0 `` \
   ``[  265.072348] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 59, count = 0 `` \
   ``[  265.072350] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 60, count = 0 `` \
   ``[  265.072352] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 61, count = 0 `` \
   ``[  265.072354] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 62, count = 0 `` \
   ``[  265.072356] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 63, count = 0 `` \
   ``[  265.072358] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 64, count = 0 `` \
   ``[  265.072360] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 65, count = 0 `` \
   ``[  265.072362] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 66, count = 0 `` \
   ``[  265.072364] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 67, count = 0 `` \
   ``[  265.072366] kvm [2285]: leaf = 0x4FFFFFFD exit reason = 68, count = 0 `` \
   b. With EPT=0 \
   ``[  753.830662] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 0, count = 4775723`` \
   ``[  753.830664] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 1, count = 2606190`` \
   ``[  753.830664] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 2, count = 0`` \
   ``[  753.830665] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 3, count = 0`` \
   ``[  753.830665] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 4, count = 0`` \
   ``[  753.830666] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 5, count = 0`` \
   ``[  753.830666] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 6, count = 0`` \
   ``[  753.830667] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 7, count = 67996`` \
   ``[  753.830667] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 8, count = 0`` \
   ``[  753.830668] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 9, count = 0`` \
   ``[  753.830668] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 10, count = 33138`` \
   ``[  753.830669] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 11, count = 0`` \
   ``[  753.830669] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 12, count = 237514`` \
   ``[  753.830669] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 13, count = 0`` \
   ``[  753.830670] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 14, count = 401944`` \
   ``[  753.830670] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 15, count = 0`` \
   ``[  753.830671] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 16, count = 0`` \
   ``[  753.830671] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 17, count = 0`` \
   ``[  753.830672] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 18, count = 6070`` \
   ``[  753.830672] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 19, count = 0`` \
   ``[  753.830673] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 20, count = 0`` \
   ``[  753.830673] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 21, count = 0`` \
   ``[  753.830673] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 22, count = 0`` \
   ``[  753.830674] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 23, count = 0`` \
   ``[  753.830674] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 24, count = 0`` \
   ``[  753.830675] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 25, count = 0`` \
   ``[  753.830675] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 26, count = 0`` \
   ``[  753.830676] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 27, count = 0`` \
   ``[  753.830676] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 28, count = 19233208`` \
   ``[  753.830677] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 29, count = 12`` \
   ``[  753.830677] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 30, count = 63666`` \
   ``[  753.830678] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 31, count = 3462`` \
   ``[  753.830678] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 32, count = 265925`` \
   ``[  753.830679] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 33, count = 0`` \
   ``[  753.830679] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 34, count = 0`` \
   ``[  753.830680] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 35, count = 0`` \
   ``[  753.830680] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 36, count = 0`` \
   ``[  753.830680] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 37, count = 0`` \
   ``[  753.830681] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 38, count = 0`` \
   ``[  753.830681] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 39, count = 0`` \
   ``[  753.830682] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 40, count = 26375`` \
   ``[  753.830682] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 41, count = 0`` \
   ``[  753.830683] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 42, count = 0`` \
   ``[  753.830683] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 43, count = 0`` \
   ``[  753.830684] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 44, count = 11`` \
   ``[  753.830684] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 45, count = 0`` \
   ``[  753.830685] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 46, count = 56`` \
   ``[  753.830685] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 47, count = 22`` \
   ``[  753.830685] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 48, count = 0`` \
   ``[  753.830686] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 49, count = 0`` \
   ``[  753.830686] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 50, count = 0`` \
   ``[  753.830687] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 51, count = 0`` \
   ``[  753.830687] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 52, count = 183150`` \
   ``[  753.830688] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 53, count = 0`` \
   ``[  753.830688] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 54, count = 2`` \
   ``[  753.830689] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 55, count = 13`` \
   ``[  753.830689] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 56, count = 0`` \
   ``[  753.830689] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 57, count = 0`` \
   ``[  753.830690] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 58, count = 382595`` \
   ``[  753.830690] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 59, count = 0`` \
   ``[  753.830691] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 60, count = 0`` \
   ``[  753.830691] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 61, count = 0`` \
   ``[  753.830692] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 62, count = 0`` \
   ``[  753.830692] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 63, count = 0`` \
   ``[  753.830692] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 64, count = 0`` \
   ``[  753.830693] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 65, count = 0`` \
   ``[  753.830693] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 66, count = 0`` \
   ``[  753.830694] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 67, count = 0`` \
   ``[  753.830694] kvm [3892]: leaf = 0x4FFFFFFD exit reason = 68, count = 4278177792``
   
3. I observed a huge increase in the number of exits especially exits 0, 28, 68. It is expected because the VMM is now much more involved in virtual memory management of the host because with ept=0 we are using shadow paging. So we see huge increase in exits 0 (exceptions, in the case of shadow paging much more page faults have to be handled by vmm) and 28 (CR access)
4. With ept=1 we use nested paging and with ept=0 we use shadow paging.


